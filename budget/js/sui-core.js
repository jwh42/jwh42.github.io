define("sui-core",["require","exports","sig-core"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends i.SignalingValue{valueChangedCallback(e,t){super.valueChangedCallback(e,t)}}t.BindableValue=n})),define("sui-core",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=new Map;function n(e,t){for(let i=t.firstElementChild;null!=i;){const t=i.id,n=i;i=i.nextElementSibling,t&&n instanceof HTMLTemplateElement&&(e[t]=document.adoptNode(n.content))}}t.load=function(e){const t=i.get(e);if(t)return t;const s=fetch(`js/${e}.html`).then(e=>e.text().then(e=>function(e){const t={};for(let i=e.documentElement.firstElementChild;null!=i;i=i.nextElementSibling)"HEAD"==i.tagName&&n(t,i);return t}((new DOMParser).parseFromString(e,"text/html")))),o=new Promise((t,i)=>{const n=`js/${e}.css`,s=document.createElement("link");s.onerror=()=>{i(new Error(`Could not load ${n}`))},s.onload=()=>{t({default:s})},s.rel="stylesheet",s.type="text/css",s.href=n,document.head.appendChild(s)}),l=Promise.all([s,o]).then(e=>e[0]);return i.set(e,l),l}})),define("sui-core",["require","exports","sig-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=Symbol(),l=new Set,r=new Array,c=new Map;let a=!1;class d extends HTMLElement{constructor(){super(),this._isBaseInit=!1,this.visible=new s.BindableValue(!0,e=>{this.style.display=e?"":"none"});const e=this._getTemplate();e&&function e(t,i){for(let n=i.firstElementChild;null!=n;n=n.nextElementSibling){const i=n.getAttribute("data-id");i&&(t[i]=null),e(t,n)}}(this,e)}get isInitialized(){return this._isBaseInit}static register(e,t){return i.throwIfEmpty(e,"tag"),function(i){a||(a=!0,function e(t){const i=t.localName;i.indexOf("-")>=0&&(l.has(i)||(l.add(i),r.push(i)));for(let i=t.firstElementChild;null!=i;i=i.nextElementSibling)e(i)}(document.body)),n.load(sig$module.name).then(n=>{const s=i.prototype,a=n[e];if(a&&Object.defineProperty(s,o,{value:a}),t)for(let i=0;i<t.length;i++){const o=t[i],l=n[o];l?Object.defineProperty(s,o,{value:l}):console.warn(`No template with ID='${o}' found for ${e}`)}l.has(e)?(c.set(e,i),function(){for(;r.length>0;){const e=r[r.length-1],t=c.get(e);if(!t)return;u(e,t),c.delete(e),l.delete(e),r.pop()}}()):u(e,i)},e=>{console.warn(e)})}}templateCallback(){}initializeCallback(){}disconnectedCallback(){}connectedCallback(){if(!this._isBaseInit){const e=this._getTemplate();if(e){const t=e.cloneNode(!0);!function e(t,i){for(let n=i.firstChild;null!=n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){const i=n.getAttribute("data-id");i&&(t[i]=n),e(t,n)}}(this,t),this.appendChild(t),this.templateCallback()}this._isBaseInit=!0,this.initializeCallback()}}_getTemplate(){return Object.getPrototypeOf(this)[o]||null}}function u(e,t){customElements.define(e,i.DI.createConstructorProxy(t))}t.Control=d})),define("sui-core",["require","exports","sig-core"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static queueTransition(e){setTimeout(e,50)}static invokeOnClick(e,t,s){i.throwIfNull(e,"element"),i.throwIfNull(t,"handler");const o=i=>{e.removeEventListener("pointerup",o,!0),e.removeEventListener("lostpointercapture",o,!0),n.boxHitTest(e,i.clientX,i.clientY)&&t(i)};e.addEventListener("pointerdown",t=>{e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",o,!0),e.addEventListener("lostpointercapture",o,!0)},s)}static boxHitTest(e,t,i){const n=e.getBoundingClientRect(),s=t-n.left,o=i-n.top;return s>=0&&s<n.width&&o>=0&&o<n.height}static removeAll(e){for(;e.firstChild;)e.removeChild(e.firstChild)}static setContent(e,t){if(n.removeAll(e),t){const i="string"==typeof t?document.createTextNode(t):t instanceof DocumentFragment?t.cloneNode(!0):t instanceof Node?t:null;i&&e.appendChild(i)}}}t.DOM=n})),define("sui-core",["require","exports","sui-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o extends n.Control{constructor(){super(...arguments),this._contentDirty=!1,this.content=new i.BindableValue(null,e=>{this.isConnected?this.applyContent(e):this._contentDirty=!0})}connectedCallback(){super.connectedCallback(),this._contentDirty&&(this._contentDirty=!1,this.applyContent(this.content.value))}applyContent(e){s.DOM.setContent(this,e)}}t.ContentControl=o})),define("sui-core",["require","exports","sui-core","sui-core","sui-core","sui-core","sig-core"],(function(e,t,i,n,s,o,l){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});let c=r=class extends n.ContentControl{constructor(){super(),this.enabled=new i.BindableValue(!0,e=>{this.toggleAttribute("disabled",!e)}),this._handleClicked=()=>{this.enabled.value&&this.clickedCallback()},o.DOM.invokeOnClick(this,this._handleClicked,!0)}clickedCallback(){r.clicked.raise(this)}};c.clicked=new l.Signal,c=r=__decorate([s.Control.register("ga-button-base")],c),t.ButtonBase=c})),define("sui-core",["require","exports","sui-core","sui-core"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=class extends i.ButtonBase{};s=__decorate([n.Control.register("ga-button")],s),t.Button=s})),define("sui-core",["require","exports","sui-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class extends n.ButtonBase{constructor(){super(...arguments),this.checked=new i.BindableValue(!1,e=>{this.checkedChangedCallback(e)})}checkedChangedCallback(e){}};o=__decorate([s.Control.register("ga-toggle-button-base")],o),t.ToggleButtonBase=o})),define("sui-core",["require","exports","sui-core","sui-core","sui-core","sui-core"],(function(e,t,i,n,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=class extends o.ToggleButtonBase{constructor(){super(...arguments),this._iconDirty=!0,this.partial=new i.BindableValue(!1,e=>{this.checked.value||this._tryUpdateIcon()})}connectedCallback(){super.connectedCallback(),this._iconDirty&&this._updateIcon()}clickedCallback(){this.checked.value=!this.checked.value,super.clickedCallback()}checkedChangedCallback(e){this._tryUpdateIcon(),super.checkedChangedCallback(e)}applyContent(e){s.DOM.setContent(this._label,e)}_tryUpdateIcon(){this.isConnected?this._updateIcon():this._iconDirty=!0}_updateIcon(){const e=this.checked.value?this.checkChecked:this.partial.value?this.checkPartial:this.checkEmpty;s.DOM.setContent(this._icon,e.cloneNode(!0)),this._iconDirty=!1}};l=__decorate([n.Control.register("ga-check-box",["checkChecked","checkEmpty","checkPartial"])],l),t.CheckBox=l})),define("sui-core",["require","exports","sig-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class extends n.Control{constructor(e){super(),this._content=e,this._handleFadeClicked=()=>{this.toggleAttribute("data-flicker",!1),s.DOM.queueTransition(()=>this.toggleAttribute("data-flicker",!0))},this._handleHideEnd=()=>{this.parentElement&&this.parentElement.removeChild(this)},i.throwIfNull(e,"content")}hide(){this.isConnected&&(this.addEventListener("transitionend",this._handleHideEnd,{once:!0}),this.toggleAttribute("data-visible",!1))}show(){this.isConnected||document.body.appendChild(this)}templateCallback(){s.DOM.setContent(this._label,this._content.label.value),s.DOM.setContent(this._child,this._content),s.DOM.invokeOnClick(this._fade,this._handleFadeClicked,!0),s.DOM.queueTransition(()=>this.toggleAttribute("data-visible",!0))}};o=__decorate([n.Control.register("ga-dialog-window")],o),t.DialogWindow=o})),define("sui-core",["require","exports","sui-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o extends n.Control{constructor(){super(...arguments),this._resolver=null,this._container=null,this.label=new i.BindableValue}open(){if(this._container)throw new Error("This DialogBox is already open");return this._container=new s.DialogWindow(this),this._container.show(),new Promise(e=>{this._resolver=e})}close(e){if(!this._container)throw new Error("This DialogBox is already closed");const t=this._resolver,i=this._container;this._resolver=null,this._container=null,i.hide(),t(e)}}t.DialogBox=o})),define("sui-core",["require","exports","sig-core","sui-core"],(function(e,t,i,n){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0});let o=s=class extends n.Control{constructor(e){super(),this._content=e,i.throwIfNull(e,"content");const t=document.createElement("div"),n=t.style;n.top="0",n.left="0",n.right="0",n.bottom="0",n.position="absolute",t.addEventListener("pointerup",()=>{document.body.removeChild(this),s.canceled.raise(this)},!0),this.appendChild(t),this.appendChild(e)}hide(){this.isConnected&&this.parentElement.removeChild(this)}showAtRectOf(e){i.throwIfNull(e,"relativeTo");const t=e.getBoundingClientRect();this.showAtRect(t.left,t.top,t.width,t.height)}showAtRect(e,t,i,n){this.isConnected||document.body.appendChild(this);const s=window.innerWidth,o=window.innerHeight,l=this._content,r=l.offsetWidth,c=l.offsetHeight;l.style.left=Math.floor(e+r<s?e:e+i-r)+"px",l.style.top=Math.floor(t+c+n<o?t+n:t-c)+"px"}};o.canceled=new i.Signal,o=s=__decorate([n.Control.register("ga-popup")],o),t.Popup=o})),define("sui-core",["require","exports","sui-core","sui-core","sui-core","sui-core"],(function(e,t,i,n,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=class extends n.Control{constructor(){super(),this._valueDirty=!1,this.items=new i.BindableValue,this.selectedItem=new i.BindableValue(null,e=>{this.isConnected?s.DOM.setContent(this._value,e):this._valueDirty=!0}),s.DOM.invokeOnClick(this,()=>this._handleClicked(),!0)}connectedCallback(){super.connectedCallback(),this._valueDirty&&(this._valueDirty=!1,s.DOM.setContent(this._value,this.selectedItem.value))}_handleClicked(){console.log("DropList._handleClicked");const e=document.createElement("div");e.classList.add("ga-popup-box");const t=new o.Popup(e),i=i=>{for(let n=0,s=e.children.length;n<s;n++)if(e.children[n]==i.currentTarget){this.selectedItem.value=this.items.value[n],t.hide();break}},n=this.items.value,l=this.selectedItem.value;if(n)for(let t=0,o=n.length;t<o;t++){const o=document.createElement("div");o.classList.add("ga-list-row"),o.appendChild(document.createTextNode(n[t])),s.DOM.invokeOnClick(o,i,!0),l==n[t]&&o.toggleAttribute("selected",!0),e.appendChild(o)}t.showAtRectOf(this)}};l=__decorate([n.Control.register("ga-drop-list")],l),t.DropList=l})),define("sui-core",["require","exports","sui-core","sui-core"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=class extends n.Control{constructor(){super(...arguments),this._rowTemplate=null,this._divTemplate=null,this._initialized=!1,this._items=null}get items(){return this._items}set items(e){this._items=e,this.isConnected&&(i.DOM.removeAll(this),this._rebuildContent())}connectedCallback(){if(!this._initialized){const e=this.removeChild(this.firstElementChild),t=this.removeChild(this.firstElementChild);this._rowTemplate=e.content.firstElementChild,this._divTemplate=t.content.firstElementChild,this._initialized=!0,this._items&&this._rebuildContent()}}_rebuildContent(){for(let e=0,t=this._items.length;e<t;e++){const t=this._items[e];this.appendChild(t?this._createRow(t):this._divTemplate.cloneNode(!0))}}_createRow(e){const t=this._rowTemplate.cloneNode(!0);for(let i of t.getElementsByClassName("menu-label"))i.textContent=e.label;for(let n of t.getElementsByClassName("menu-icon"))i.DOM.removeAll(n),e.icon&&n.appendChild(e.icon.cloneNode(!0));return t.__value=e,t.toggleAttribute("data-selected",e.selected),t}};s=__decorate([n.Control.register("ga-grouped-array-view")],s),t.GroupedArrayView=s})),define("sui-core",["require","exports","sui-core","sui-core","sui-core"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class extends n.Control{constructor(){super(...arguments),this.content=new i.BindableValue(null,()=>{this.isInitialized&&this._updateContent()})}initializeCallback(){this._updateContent()}_updateContent(){s.DOM.removeAll(this);const e=this.content.value;e&&this.appendChild(e.cloneNode(!0))}};o=__decorate([n.Control.register("ga-icon-view")],o),t.IconView=o})),define("sui-core",["require","exports","sig-core","sui-core","sui-core","sui-core","sui-core"],(function(e,t,i,n,s,o,l){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});let c=r=class extends o.DialogBox{constructor(e,...t){super(),this._buttonsRefs=new Array,this._handleButtonClicked=e=>{this.close(this._buttonsRefs.indexOf(e))},this._message=i.throwIfNull(e,"message"),this._buttons=t.length>0?t:["OK"]}static show(e,...t){return new r(e,...t).open()}templateCallback(){l.DOM.setContent(this._messageArea,this._message);for(let e=0;e<this._buttons.length;e++){const t=new n.Button;t.content.value=this._buttons[e],n.Button.clicked.watch(t,this._handleButtonClicked),this._buttonsRefs.push(t),this._buttonsArea.appendChild(t)}}};c=r=__decorate([s.Control.register("ga-message-box")],c),t.MessageBox=c}));